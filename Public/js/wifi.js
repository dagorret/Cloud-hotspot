function redirectApp(a){document.addEventListener("visibilitychange",putNoResponse,!1);if("wechat"==a.type){var b=a.wechat;setTimeout(function(){Wechat_GotoRedirect(b.appid,b.extend,b.timestamp,b.sign,b.shopid,b.authurl,b.mac,b.ssid,b.bssid)},2E3);setTimeout(function(){window.location.href=a.url},4E3)}else setTimeout(function(){window.location.href=a.url},2E3)}
function Wechat_GotoRedirect(a,b,c,d,e,f,h,k,l){var g="https://wifi.weixin.qq.com/operator/callWechatBrowser.xhtml?appId="+a+"&extend="+b+"&timestamp="+c+"&sign="+d;f&&e&&(g="https://wifi.weixin.qq.com/operator/callWechat.xhtml?appId="+a+"&extend="+b+"&timestamp="+c+"&sign="+d+"&shopId="+e+"&authUrl="+encodeURIComponent(f)+"&mac="+h+"&ssid="+k+"&bssid="+l);a=document.createElement("script");a.setAttribute("src",g);document.getElementsByTagName("head")[0].appendChild(a)}
function jsonpCallback(a){if(a&&a.success){var b=navigator.userAgent;-1!=b.indexOf("iPhone")||-1!=b.indexOf("iPod")||-1!=b.indexOf("iPad")?(createIframe(),callUpTimestamp=(new Date).getTime(),loadIframe.src=a.data,noResponse=setTimeout(function(){loadIframe.src=a.data},4E3)):(createIframe(),callUpTimestamp=(new Date).getTime(),loadIframe.src=a.data,noResponse=setTimeout(function(){loadIframe.src=a.data},3E3))}}
function createIframe(){var a=document.createElement("iframe");a.style.cssText="display:none;width:0px;height:0px;";document.body.appendChild(a);loadIframe=a}var loadIframe=null,noResponse=null,callUpTimestamp=0;function putNoResponse(a){clearTimeout(noResponse)};